# Product Overview

## What is PTCG Opponent Checker?

ポケモンカードゲーム（PTCG）の大会に参加するプレイヤー向けの**対戦相手デッキ検索ツール**。対戦相手の名前を入力すると、その人が過去に参加した大会と使用したデッキを確認できる。

## Core Features

### Phase 1（完了）
- **大会データ収集**: rk9.ggから全ポケモンカード大会を自動取得
- **参加者情報収集**: 各大会の参加者・順位・デッキリストURLを取得
- **プレイヤー名寄せ**: 複合キー（マスクID + 名前 + 国）で同一人物を識別
- **差分更新**: 新規大会のみを効率的に取得

### Phase 2（実装完了）
- **検索API**: Hono による REST API（プレイヤー検索・参加履歴取得）
- **Web UI**: React + Vite によるシンプルな検索画面
- **デッキリスト表示**: rk9.gg のデッキリストページへのリンク
- **Division フィルター**: Masters/Senior/Junior で絞り込み

### Phase 3（予定）
- **定期クローリング**: 新規大会の自動取得
- **クラウドデプロイ**: Vercel/Cloudflare 等へのデプロイ

## Target Use Case

### プライマリユースケース
> 「次の大会で対戦するかもしれない相手が、過去にどんなデッキを使っていたか知りたい」

1. ユーザーが対戦相手の名前（First Name / Last Name）を入力
2. 該当するプレイヤーの一覧を表示（同名異人の可能性あり）
3. 選択したプレイヤーの大会参加履歴を表示
4. 各大会での使用デッキ（リンク）と順位を確認

### データソース
- **rk9.gg**: ポケモン公式大会の結果を管理するサイト
- TCG（Trading Card Game）大会のみを対象
- 2022年以降の大会データを収集

## Key Value Proposition

| 特徴 | 詳細 |
|------|------|
| **網羅性** | 全世界のリージョナル・インターナショナル・ワールドの大会データを収集 |
| **名寄せ精度** | Player IDマスク + 名前 + 国の複合キーで同一人物を追跡 |
| **差分更新** | 効率的なクローリングで新規大会のみを取得 |
| **オフライン利用** | SQLiteによるローカルDB、ネットワーク不要で検索可能 |

## Current Data Scale

| 項目 | 件数 |
|------|------|
| 大会数 | 134件 |
| プレイヤー数 | 66,634人 |
| 参加記録数 | 183,972件 |

## Constraints & Limitations

- **プレイヤー識別の限界**: 同姓同名・同国籍・同マスクIDの別人は区別不可
- **データソース依存**: rk9.ggのページ構造変更時は対応が必要
- **過去データ**: 2022年以前の一部大会はデータ取得不可
